{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Project\\\\fixed_voting_frontend\\\\src\\\\pages\\\\VotePresidential.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VotePresidential = () => {\n  _s();\n  const [candidates, setCandidates] = useState([]);\n  const [selectedCandidate, setSelectedCandidate] = useState(null);\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n  const token = localStorage.getItem('token'); // Assumes token is stored on login\n\n  useEffect(() => {\n    const fetchCandidates = async () => {\n      try {\n        const res = await axios.get('http://localhost:3000/api/candidates');\n        const presidential = res.data.candidates.filter(c => c.type === 'presidential');\n        setCandidates(presidential);\n      } catch (err) {\n        console.error('Error fetching candidates:', err);\n        setError('Failed to load candidates.');\n      }\n    };\n    fetchCandidates();\n  }, []);\n  const handleVote = async () => {\n    if (!selectedCandidate) {\n      setError('Please select a candidate.');\n      return;\n    }\n    try {\n      const res = await axios.post('http://localhost:3000/api/votes', {\n        candidateId: selectedCandidate,\n        electionType: 'presidential'\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMessage(res.data.message);\n      setError('');\n    } catch (err) {\n      console.error(err);\n      setMessage('');\n      if (err.response && err.response.data && err.response.data.message) {\n        setError(err.response.data.message);\n      } else {\n        setError('An error occurred while voting.');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDDF3\\uFE0F Vote for Presidential Candidate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'green',\n        marginBottom: '1rem'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        marginBottom: '1rem'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.cardContainer,\n      children: candidates.map(candidate => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...styles.card,\n          border: selectedCandidate === candidate._id ? '3px solid #007bff' : '1px solid #ccc'\n        },\n        onClick: () => setSelectedCandidate(candidate._id),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:3000/uploads/${candidate.image}`,\n          alt: candidate.name,\n          style: styles.image,\n          onError: e => {\n            e.target.src = '/fallback.png'; // optional fallback image\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: candidate.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Party: \", candidate.party]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, candidate._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleVote,\n      style: styles.voteBtn,\n      children: \"Submit Vote\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(VotePresidential, \"7JqpQ9XOpjqhKg7zCyGuIXwkwpQ=\");\n_c = VotePresidential;\nconst styles = {\n  container: {\n    maxWidth: '900px',\n    margin: '0 auto',\n    padding: '2rem',\n    textAlign: 'center'\n  },\n  cardContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'center',\n    gap: '1rem'\n  },\n  card: {\n    width: '200px',\n    padding: '1rem',\n    borderRadius: '8px',\n    cursor: 'pointer',\n    boxShadow: '0 0 5px rgba(0,0,0,0.1)',\n    transition: '0.3s ease'\n  },\n  image: {\n    width: '100%',\n    height: '150px',\n    objectFit: 'cover',\n    borderRadius: '6px',\n    marginBottom: '1rem'\n  },\n  voteBtn: {\n    marginTop: '1.5rem',\n    padding: '0.7rem 1.5rem',\n    fontSize: '16px',\n    backgroundColor: '#007bff',\n    color: '#fff',\n    border: 'none',\n    borderRadius: '5px',\n    cursor: 'pointer'\n  }\n};\nexport default VotePresidential;\nvar _c;\n$RefreshReg$(_c, \"VotePresidential\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","VotePresidential","_s","candidates","setCandidates","selectedCandidate","setSelectedCandidate","message","setMessage","error","setError","token","localStorage","getItem","fetchCandidates","res","get","presidential","data","filter","c","type","err","console","handleVote","post","candidateId","electionType","headers","Authorization","response","style","styles","container","children","fileName","_jsxFileName","lineNumber","columnNumber","color","marginBottom","cardContainer","map","candidate","card","border","_id","onClick","src","image","alt","name","onError","e","target","party","voteBtn","_c","maxWidth","margin","padding","textAlign","display","flexWrap","justifyContent","gap","width","borderRadius","cursor","boxShadow","transition","height","objectFit","marginTop","fontSize","backgroundColor","$RefreshReg$"],"sources":["C:/Users/user/Desktop/Project/fixed_voting_frontend/src/pages/VotePresidential.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst VotePresidential = () => {\r\n  const [candidates, setCandidates] = useState([]);\r\n  const [selectedCandidate, setSelectedCandidate] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const token = localStorage.getItem('token'); // Assumes token is stored on login\r\n\r\n  useEffect(() => {\r\n    const fetchCandidates = async () => {\r\n      try {\r\n        const res = await axios.get('http://localhost:3000/api/candidates');\r\n        const presidential = res.data.candidates.filter(c => c.type === 'presidential');\r\n        setCandidates(presidential);\r\n      } catch (err) {\r\n        console.error('Error fetching candidates:', err);\r\n        setError('Failed to load candidates.');\r\n      }\r\n    };\r\n\r\n    fetchCandidates();\r\n  }, []);\r\n\r\n  const handleVote = async () => {\r\n    if (!selectedCandidate) {\r\n      setError('Please select a candidate.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        'http://localhost:3000/api/votes',\r\n        {\r\n          candidateId: selectedCandidate,\r\n          electionType: 'presidential',\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setMessage(res.data.message);\r\n      setError('');\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage('');\r\n      if (err.response && err.response.data && err.response.data.message) {\r\n        setError(err.response.data.message);\r\n      } else {\r\n        setError('An error occurred while voting.');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2>üó≥Ô∏è Vote for Presidential Candidate</h2>\r\n\r\n      {message && <div style={{ color: 'green', marginBottom: '1rem' }}>{message}</div>}\r\n      {error && <div style={{ color: 'red', marginBottom: '1rem' }}>{error}</div>}\r\n\r\n      <div style={styles.cardContainer}>\r\n        {candidates.map(candidate => (\r\n          <div\r\n            key={candidate._id}\r\n            style={{\r\n              ...styles.card,\r\n              border:\r\n                selectedCandidate === candidate._id ? '3px solid #007bff' : '1px solid #ccc',\r\n            }}\r\n            onClick={() => setSelectedCandidate(candidate._id)}\r\n          >\r\n            <img\r\n              src={`http://localhost:3000/uploads/${candidate.image}`}\r\n              alt={candidate.name}\r\n              style={styles.image}\r\n              onError={(e) => {\r\n                e.target.src = '/fallback.png'; // optional fallback image\r\n              }}\r\n            />\r\n            <h3>{candidate.name}</h3>\r\n            <p>Party: {candidate.party}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <button onClick={handleVote} style={styles.voteBtn}>\r\n        Submit Vote\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    maxWidth: '900px',\r\n    margin: '0 auto',\r\n    padding: '2rem',\r\n    textAlign: 'center',\r\n  },\r\n  cardContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    gap: '1rem',\r\n  },\r\n  card: {\r\n    width: '200px',\r\n    padding: '1rem',\r\n    borderRadius: '8px',\r\n    cursor: 'pointer',\r\n    boxShadow: '0 0 5px rgba(0,0,0,0.1)',\r\n    transition: '0.3s ease',\r\n  },\r\n  image: {\r\n    width: '100%',\r\n    height: '150px',\r\n    objectFit: 'cover',\r\n    borderRadius: '6px',\r\n    marginBottom: '1rem',\r\n  },\r\n  voteBtn: {\r\n    marginTop: '1.5rem',\r\n    padding: '0.7rem 1.5rem',\r\n    fontSize: '16px',\r\n    backgroundColor: '#007bff',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: '5px',\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\nexport default VotePresidential;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
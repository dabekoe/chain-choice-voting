{"ast":null,"code":"import React,{useEffect,useState}from'react';import api from'../api/api';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function VotePresidential(){const[candidates,setCandidates]=useState([]);const[selectedCandidate,setSelectedCandidate]=useState('');const[message,setMessage]=useState('');const navigate=useNavigate();useEffect(()=>{const fetchCandidates=async()=>{try{const res=await api.get('/api/candidates?type=presidential');setCandidates(res.data.candidates||[]);}catch(err){console.error('Failed to load candidates:',err);}};fetchCandidates();},[]);const handleVote=async()=>{if(!selectedCandidate)return alert('Please select a candidate.');try{await api.post('/api/votes',{candidateId:selectedCandidate,electionType:'presidential'});setMessage('✅ Vote cast successfully!');}catch(err){var _err$response,_err$response$data;console.error(err);setMessage('❌ '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Vote failed.'));}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-indigo-100 py-10 px-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-4xl bg-white rounded-2xl shadow-xl p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-extrabold text-blue-900 mb-2\",children:\"Presidential Election\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm mb-4\",children:\"Select your preferred candidate and cast your vote\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",children:candidates.map(c=>/*#__PURE__*/_jsxs(\"div\",{className:`border-2 p-4 rounded-xl shadow-sm bg-gradient-to-br from-blue-50 to-indigo-50 flex flex-col items-center transition ${selectedCandidate===c._id?'border-blue-600 ring-2 ring-blue-300':'border-gray-200'}`,children:[c.image&&/*#__PURE__*/_jsx(\"img\",{src:`http://localhost:3000${c.image}`,alt:c.name,className:\"w-28 h-28 object-cover rounded-full mb-3 border-4 border-white shadow\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"candidate\",value:c._id,checked:selectedCandidate===c._id,onChange:()=>setSelectedCandidate(c._id),className:\"accent-blue-600 w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-blue-900\",children:c.name})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700 mb-1\",children:c.party})]},c._id))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVote,className:\"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-indigo-700 hover:to-blue-700 text-white font-bold py-3 rounded-xl shadow mt-8 transition\",children:\"Cast Vote\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center text-lg font-semibold text-blue-700\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 text-center text-gray-400 text-xs\",children:[\"\\xA9 \",new Date().getFullYear(),\" National Online Voting System. All rights reserved.\"]})]})});}","map":{"version":3,"names":["React","useEffect","useState","api","useNavigate","jsx","_jsx","jsxs","_jsxs","VotePresidential","candidates","setCandidates","selectedCandidate","setSelectedCandidate","message","setMessage","navigate","fetchCandidates","res","get","data","err","console","error","handleVote","alert","post","candidateId","electionType","_err$response","_err$response$data","response","className","children","map","c","_id","image","src","alt","name","type","value","checked","onChange","party","onClick","Date","getFullYear"],"sources":["C:/Users/user/Desktop/Chain Choice/Chain Choice/voting frontend/src/pages/VotePresidential.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../api/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function VotePresidential() {\r\n  const [candidates, setCandidates] = useState([]);\r\n  const [selectedCandidate, setSelectedCandidate] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchCandidates = async () => {\r\n      try {\r\n        const res = await api.get('/api/candidates?type=presidential');\r\n        setCandidates(res.data.candidates || []);\r\n      } catch (err) {\r\n        console.error('Failed to load candidates:', err);\r\n      }\r\n    };\r\n    fetchCandidates();\r\n  }, []);\r\n\r\n  const handleVote = async () => {\r\n    if (!selectedCandidate) return alert('Please select a candidate.');\r\n\r\n    try {\r\n      await api.post('/api/votes', {\r\n        candidateId: selectedCandidate,\r\n        electionType: 'presidential',\r\n      });\r\n      setMessage('✅ Vote cast successfully!');\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage('❌ ' + (err.response?.data?.message || 'Vote failed.'));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-indigo-100 py-10 px-2\">\r\n      <div className=\"w-full max-w-4xl bg-white rounded-2xl shadow-xl p-8\">\r\n        <div className=\"flex flex-col items-center mb-8\">\r\n          <h2 className=\"text-3xl font-extrabold text-blue-900 mb-2\">Presidential Election</h2>\r\n          <p className=\"text-gray-500 text-sm mb-4\">Select your preferred candidate and cast your vote</p>\r\n        </div>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {candidates.map((c) => (\r\n            <div\r\n              key={c._id}\r\n              className={`border-2 p-4 rounded-xl shadow-sm bg-gradient-to-br from-blue-50 to-indigo-50 flex flex-col items-center transition ${\r\n                selectedCandidate === c._id\r\n                  ? 'border-blue-600 ring-2 ring-blue-300'\r\n                  : 'border-gray-200'\r\n              }`}\r\n            >\r\n              {c.image && (\r\n                <img\r\n                  src={`http://localhost:3000${c.image}`}\r\n                  alt={c.name}\r\n                  className=\"w-28 h-28 object-cover rounded-full mb-3 border-4 border-white shadow\"\r\n                />\r\n              )}\r\n              <label className=\"flex items-center space-x-2 mb-2\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"candidate\"\r\n                  value={c._id}\r\n                  checked={selectedCandidate === c._id}\r\n                  onChange={() => setSelectedCandidate(c._id)}\r\n                  className=\"accent-blue-600 w-5 h-5\"\r\n                />\r\n                <span className=\"font-semibold text-blue-900\">{c.name}</span>\r\n              </label>\r\n              <span className=\"text-sm text-gray-700 mb-1\">{c.party}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <button\r\n          onClick={handleVote}\r\n          className=\"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-indigo-700 hover:to-blue-700 text-white font-bold py-3 rounded-xl shadow mt-8 transition\"\r\n        >\r\n          Cast Vote\r\n        </button>\r\n        {message && (\r\n          <div className=\"mt-6 text-center text-lg font-semibold text-blue-700\">\r\n            {message}\r\n          </div>\r\n        )}\r\n        <div className=\"mt-10 text-center text-gray-400 text-xs\">\r\n          &copy; {new Date().getFullYear()} National Online Voting System. All rights reserved.\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}